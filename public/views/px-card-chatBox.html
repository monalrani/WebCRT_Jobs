<link rel="import" href="../bower_components/px-card/px-card-header.html"/>
<link rel="import" href="../bower_components/px-card/px-card.html"/>


<style>
.rcorners {
    border: 2px solid #7C7C84;
    width: 245px; 
    border-radius: 18px;
    padding: 5px; 
    height:115px;
}
.daycol {
  background-color: aliceblue;
}
.daycol:nth-child(2n+1) {
    background-color:#e9e9e9
}

paper-button.fancy {
  background: #3E87E8;
  color: #F7F7FC;
}

paper-button.fancy:hover {
  background: #005cb9;
}

paper-button[disabled],
paper-button[toggles][active] {
  background: red;
}

</style>

<dom-module id="px-card-chatBox">
     <template>
     <px-tab-set selected="{{selected}}">
  <px-tab>Last Week</px-tab>
  <px-tab>Last Month</px-tab>
</px-tab-set>
<px-tab-pages selected="{{selected}}">
  <div>
     <template is="dom-repeat" items="{{chatList1}}">
    <div class="rcorners daycol" style="margin-bottom: 5px; margin-top: 5px; margin-right:5px">
<div class="pull-left" style="width:60px; margin-right: 5px;">
<img id="profileImage1" style="width:64px; height:70px;" src="{{item.imageSrc}}"></img>
</div>
<div class="pull-left" style="width:165px; margin-left:15px">
<iron-label style="font-weight: bold;font-size: 14px;">{{item.name}}</iron-label>
<pr class="pull-left" style="font-size: 12px;overflow: auto; word-break: break-word; height: 100px">{{item.message}}</pr>
</div>
</div>
</template>
</div>

  <div>
     <template is="dom-repeat" items="{{chatList2}}">
    <div class="rcorners daycol" style="margin-bottom: 5px; margin-top: 5px; margin-right:5px">
<div class="pull-left" style="width:60px; margin-right: 5px;">
<img id="profileImage2" style="width:64px; height:70px;" src="{{item.imageSrc}}"></img>
</div>
<div class="pull-left" style="width:165px; margin-left:15px">
<iron-label style="font-weight: bold;font-size: 14px;">{{item.name}}</iron-label>
<pr class="pull-left" style="font-size: 12px;overflow: auto; word-break: break-word; height: 100px">{{item.message}}</pr>
</div>
</div>
</template>
</div>
</px-tab-pages>
        <div>
<iron-autogrow-textarea id="chattext" maxlength="200" maxRows="5" rows="2" placeholder="Type message.." style="width: 279px;"></iron-autogrow-textarea>
<paper-button raised class="fancy" style="float: right;margin-top: -2px;margin-right: 0px;margin-bottom: 20px;padding-bottom: 0px;padding-top: 1px;"pointerDown="true" onclick="submitClicked();">Submit</paper-button>
</div>
     </template>
     </dom-module>
     
     
     <script>
Polymer({
    is: 'px-card-chatBox',
    behaviors: [px.card],
    properties: {
        selected: {
        type: Number
          }
        },
	ready: function(){
		this.selected = 0;
		  this.chatList1 = [{'imageSrc':'\\images\\Lorenzo_Simonelli.png', 'name':'Lorenzo Simonelli', 'message':'As a world leader in advanced technologies and services, GE Oil & Gas is well positioned to foster growth in India\'s domestic production - from extraction to transportation to end use.'},
                            {'imageSrc':'\\images\\Clay_Johnson.jpg', 'name':'Clay Johnson', 'message':'A great machine continues to get better. The LM6000-PF+ aeroderivative turbine takes power availability, efficiency & reliability to even greater heights'}];
		   
		  this.chatList2 = [{'imageSrc':'\\images\\Ganesh_Bell.jpg', 'name':'Ganesh Bell', 'message':'FLX360 flying lead, multi-function subsea connection system. Innovative design increases long term equipment reliability and operating efficiency'},
                            {'imageSrc':'\\images\\Jeff_Connelly.jpg', 'name':'Jeff Connelly', 'message':'Enlarging fuel flexibility for Frame 5 DLN Gas Turbines. Maximizing gas turbine fuel flexibility without compromising efficiency or emissions performances'}
                            ];
	
	}

});

function submitClicked(){
	var paperCustTab = document.querySelector('px-card-chatBox'); 
	 var area = document.querySelector('iron-autogrow-textarea');
     var chatText = area.value;
	if(paperCustTab.selected == 0){
		 var chatListNew = [{'imageSrc':'\\images\\Lorenzo_Simonelli.png', 'name':'Lorenzo Simonelli', 'message':'As a world leader in advanced technologies and services, GE Oil & Gas is well positioned to foster growth in India\'s domestic production - from extraction to transportation to end use.'},
	                       {'imageSrc':'\\images\\Clay_Johnson.jpg', 'name':'Clay Johnson', 'message':'A great machine continues to get better. The LM6000-PF+ aeroderivative turbine takes power availability, efficiency & reliability to even greater heights'}];

	     var chatObj = {"imageSrc":'\\images\\Lorenzo_Simonelli.png', 'name':'Logged User'};
	     chatObj.message = chatText;
	     chatListNew.push(chatObj);
	     $('#chattext').val('');
	     paperCustTab.chatList1 = chatListNew;
	}
	if(paperCustTab.selected == 1){
		var chatListNew = [{'imageSrc':'\\images\\Ganesh_Bell.jpg', 'name':'Ganesh Bell', 'message':'FLX360 flying lead, multi-function subsea connection system. Innovative design increases long term equipment reliability and operating efficiency'},
                           {'imageSrc':'\\images\\Jeff_Connelly.jpg', 'name':'Jeff Connelly', 'message':'Enlarging fuel flexibility for Frame 5 DLN Gas Turbines. Maximizing gas turbine fuel flexibility without compromising efficiency or emissions performances'}
        ];
	     var chatObj = {"imageSrc":'\\images\\Jeff_Connelly.jpg', 'name':'Jeff Connelly'};
	     chatObj.message = chatText;
	     chatListNew.push(chatObj);
	     $('#chattext1').val('');
	     paperCustTab.chatList2 = chatListNew;
	}
    area.textarea.value='';

}

   

</script>